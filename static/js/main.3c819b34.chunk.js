(this.webpackJsonpviewer=this.webpackJsonpviewer||[]).push([[0],{36:function(e,t,n){e.exports=n(51)},41:function(e,t,n){},43:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),l=n.n(c),o=(n(41),n(14)),s=n.n(o),m=n(20),i=n(23),u=n(21),f=n(9),p=(n(43),n(3)),h=n(28),E=n.n(h),d=n(7),b=new E.a;function g(e,t){var n=t.match(/::(.+.txt)$/);return n?"https://github.com/cormacrelf/test-suite/tree/master/processor-tests/humans/".concat(n[1]):(n=t.match(/::(.+.ya?ml)$/))?"https://github.com/cormacrelf/citeproc-rs/tree/".concat(e.ref,"/crates/citeproc/tests/data/humans/").concat(n[1]):void 0}b.use_classes=!1;var v=function(e){var t=e.test,n=e.cref,a=t.stdout,c="";null!=a&&(c=b.ansi_to_html(a));var l=c.split("\n").filter((function(e){var t=e.match(/assertion failed: `\(left == right\)`/)||e.match("RUST_BACKTRACE=1")||e.match('<span style="font-weight:bold">Diff</span>')||e.match("crates/citeproc/tests/suite.rs");return!(0===e.length||t&&t.length>0)})).map((function(e){return e.replace('<span style="color:rgb(187,0,0)">&lt;</span>','<span style="color:rgb(187,0,0)">-</span>').replace('<span style="color:rgb(0,187,0)">&gt;</span>','<span style="color:rgb(0,187,0)">+</span>').replace(/rgb\(0,95,0\)/g,"#cdffd8").replace(/rgb\(95,0,0\)/g,"#ffdce0")})).join("\n");return r.a.createElement(p.b,{p:4},r.a.createElement(p.g,{fontSize:2,id:t.name},r.a.createElement("a",{className:"anchor",href:g(n,t.name)},r.a.createElement(p.h,{icon:d.e}))," "," ",t.name),r.a.createElement(p.c,{className:"stdout"},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:l}}))))},y=function(e){var t=e.single,n=e.cref,a=t.ok,c=t.failed,l=t.ignored,o=Object.keys(c).sort(),s=o.map((function(e){var t=c[e];return r.a.createElement(v,{key:t.name,test:t,cref:n})}));return r.a.createElement(p.c,null,r.a.createElement(p.c,{mb:4},r.a.createElement(p.i,null,r.a.createElement(p.e,null,Object.keys(a).length)," ok, ",r.a.createElement(p.e,null,o.length)," failed, ",r.a.createElement(p.e,null,Object.keys(l).length)," ignored")),s)},k="https://citeproc-rs-test-results.cormacrelf.net/";function w(){return(w=Object(i.a)(s.a.mark((function e(t){var n,a,r,c,l,o,m,i,u,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+".snapshots/"+t);case 2:return n=e.sent,e.next=5,n.text();case 5:for(a=e.sent,r=a.split("\n").filter((function(e){return e.length>0})).map((function(e){return JSON.parse(e)})),c={test_names:[],ok:{},failed:{},ignored:{}},l=!0,o=!1,m=void 0,e.prev=11,i=r[Symbol.iterator]();!(l=(u=i.next()).done);l=!0)"test"===(f=u.value).type&&("failed"===f.event?c.failed[f.name]=f:"ignored"===f.event?c.ignored[f.name]=f:"ok"===f.event&&(c.ok[f.name]=f));e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),o=!0,m=e.t0;case 19:e.prev=19,e.prev=20,l||null==i.return||i.return();case 22:if(e.prev=22,!o){e.next=25;break}throw m;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.abrupt("return",c);case 28:case"end":return e.stop()}}),e,null,[[11,15,19,27],[20,,22,26]])})))).apply(this,arguments)}var j=function(e){var t=e.commitRef,n=Object(a.useState)(),c=Object(m.a)(n,2),l=c[0],o=c[1],s=Object(a.useState)(!1),i=Object(m.a)(s,2),u=i[0],f=i[1];return Object(a.useEffect)((function(){(function(e){return w.apply(this,arguments)})(t.type+"/"+t.ref).then(o).catch((function(e){f(e)}))}),[t.ref,t.type]),u?r.a.createElement(p.i,null,"Error loading ",t.ref,": ",r.a.createElement("pre",null,r.a.createElement("code",null,u.toString()))):l?r.a.createElement(p.c,null,r.a.createElement(p.g,null,r.a.createElement(p.d,{className:"branch-heading",href:"https://github.com/cormacrelf/citeproc-rs/tree/"+t.ref},t.ref),r.a.createElement("br",null),"citeproc-rs test results"),r.a.createElement(y,{single:l,cref:t})):r.a.createElement(p.i,null,"Loading...")},O=function(){return r.a.createElement(p.f,null,r.a.createElement(u.b,{to:"/"},r.a.createElement(p.d,{as:"span"},"master")))},x=function(){return r.a.createElement(p.c,{m:4,p:4},r.a.createElement(j,{commitRef:{type:"branches",ref:"master"}}))},S=function(){var e=Object(f.f)().branch;return r.a.createElement(p.c,{m:4,p:4},e?r.a.createElement(j,{commitRef:{type:"branches",ref:e}}):null)},R=function(){var e=Object(f.f)().commit;return r.a.createElement(p.c,{m:4,p:4},e?r.a.createElement(j,{commitRef:{type:"commits",ref:e}}):null)},_=function(){return r.a.createElement(p.a,null,r.a.createElement(u.a,{basename:"/citeproc-rs-test-viewer"},r.a.createElement(O,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/"},r.a.createElement(x,null)),r.a.createElement(f.a,{path:"/branches/:branch"},r.a.createElement(S,null)),r.a.createElement(f.a,{path:"/commits/:commit"},r.a.createElement(R,null)),r.a.createElement(f.a,null,"Route not found"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.3c819b34.chunk.js.map