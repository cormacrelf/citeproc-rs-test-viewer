(this.webpackJsonpviewer=this.webpackJsonpviewer||[]).push([[0],{36:function(e,t,n){e.exports=n(51)},41:function(e,t,n){},43:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),l=n.n(c),o=(n(41),n(15)),s=n.n(o),i=n(23),u=n(13),m=n(21),f=n(9),p=(n(43),n(3)),h=n(28),E=n.n(h),d=n(7),b=new E.a;function v(e,t){var n=t.match(/::(.+.txt)$/);return n?"https://github.com/cormacrelf/test-suite/tree/master/processor-tests/humans/".concat(n[1]):(n=t.match(/::(.+.ya?ml)$/))?"https://github.com/cormacrelf/citeproc-rs/tree/".concat(e.ref,"/crates/citeproc/tests/data/humans/").concat(n[1]):void 0}b.use_classes=!1;var g=function(e){var t=e.test,n=e.cref,r=t.stdout,c="";null!=r&&(c=b.ansi_to_html(r));var l=c.split("\n").filter((function(e){var t=e.match(/assertion failed: `\(left == right\)`/)||e.match("RUST_BACKTRACE=1")||e.match('<span style="font-weight:bold">Diff</span>')||e.match("crates/citeproc/tests/suite.rs");return!(0===e.length||t&&t.length>0)})).map((function(e){return e.replace('<span style="color:rgb(187,0,0)">&lt;</span>','<span style="color:rgb(187,0,0)">-</span>').replace('<span style="color:rgb(0,187,0)">&gt;</span>','<span style="color:rgb(0,187,0)">+</span>').replace(/rgb\(0,95,0\)/g,"#cdffd8").replace(/rgb\(95,0,0\)/g,"#ffdce0")})).join("\n");return a.a.createElement(p.b,{p:4},a.a.createElement(p.i,{fontSize:2,id:t.name},a.a.createElement("a",{className:"anchor",href:v(n,t.name)},a.a.createElement(p.j,{icon:d.e}))," "," ",t.name),a.a.createElement(p.c,{className:"stdout"},a.a.createElement("pre",null,a.a.createElement("code",{dangerouslySetInnerHTML:{__html:l}}))))},y=function(e){var t=e.single,n=e.cref,c=Object(r.useState)(null),l=Object(u.a)(c,2),o=l[0],s=l[1],i=t.ok,m=t.failed,f=t.ignored,h=Object(r.useMemo)((function(){return Object.keys(m).sort()}),[m]),E=Object(r.useMemo)((function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,c=h[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var l=a.value.split("::");if(l.length>1){var o=l[1].split("_");o.length>0&&(e[o[0]]=(e[o[0]]||0)+1)}}}catch(s){n=!0,r=s}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e}),[h]),d="::"+o+"_",b=Object(r.useMemo)((function(){if(null!==o){var e={},t=!0,n=!1,r=void 0;try{for(var a,c=h[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var l=a.value;-1===l.indexOf(d)&&(e[l]=!0)}}catch(s){n=!0,r=s}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e}return{}}),[h,o,d]),v=Object.keys(E).map((function(e){return a.a.createElement(p.g.Item,{selected:e===o,count:E[e],onClick:function(){return s(e)}},e)})),y=h.map((function(e){var t=m[e];return a.a.createElement("div",{className:b[t.name]?"hidden":void 0,key:t.name},a.a.createElement(g,{test:t,cref:n}))}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.c,null,a.a.createElement(p.k,null,a.a.createElement(p.f,null,Object.keys(i).length)," ok, ",a.a.createElement(p.f,null,h.length)," failed, ",a.a.createElement(p.f,null,Object.keys(f).length)," ignored"),null!==o&&a.a.createElement(p.e,{onClick:function(){return s(null)}},"Clear filters")),a.a.createElement(p.h,{mb:4},a.a.createElement(p.c,{minWidth:"220px",pr:4,pt:4},a.a.createElement(p.g,{small:!0},v)),a.a.createElement(p.c,{pt:4},y)))},k="https://citeproc-rs-test-results.cormacrelf.net/.snapshots/";function j(){return(j=Object(i.a)(s.a.mark((function e(t){var n,r,a,c,l,o,i,u,m,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+t);case 2:return n=e.sent,e.next=5,n.text();case 5:for(r=e.sent,a=r.split("\n").filter((function(e){return e.length>0})).map((function(e){return JSON.parse(e)})),c={test_names:[],ok:{},failed:{},ignored:{}},l=!0,o=!1,i=void 0,e.prev=11,u=a[Symbol.iterator]();!(l=(m=u.next()).done);l=!0)"test"===(f=m.value).type&&("failed"===f.event?c.failed[f.name]=f:"ignored"===f.event?c.ignored[f.name]=f:"ok"===f.event&&(c.ok[f.name]=f));e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),o=!0,i=e.t0;case 19:e.prev=19,e.prev=20,l||null==u.return||u.return();case 22:if(e.prev=22,!o){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.abrupt("return",c);case 28:case"end":return e.stop()}}),e,null,[[11,15,19,27],[20,,22,26]])})))).apply(this,arguments)}var O=function(e){var t=e.commitRef,n=Object(r.useState)(),c=Object(u.a)(n,2),l=c[0],o=c[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),m=i[0],f=i[1];return Object(r.useEffect)((function(){(function(e){return j.apply(this,arguments)})(t.type+"/"+t.ref).then(o).catch((function(e){f(e)}))}),[t.ref,t.type]),m?a.a.createElement(p.k,null,"Error loading ",t.ref,": ",a.a.createElement("pre",null,a.a.createElement("code",null,m.toString()))):l?a.a.createElement(p.c,null,a.a.createElement(p.i,null,a.a.createElement(p.d,{className:"branch-heading",href:"https://github.com/cormacrelf/citeproc-rs/tree/"+t.ref},t.ref),a.a.createElement("br",null),"citeproc-rs test results"),a.a.createElement(y,{single:l,cref:t})):a.a.createElement(p.k,null,"Loading...")},w=function(){return a.a.createElement(p.h,null,a.a.createElement(m.b,{to:"/"},a.a.createElement(p.d,{as:"span"},"master")))},x=function(){return a.a.createElement(p.c,{m:4,p:4},a.a.createElement(O,{commitRef:{type:"branches",ref:"master"}}))},S=function(){var e=Object(f.f)().branch;return a.a.createElement(p.c,{m:4,p:4},e?a.a.createElement(O,{commitRef:{type:"branches",ref:e}}):null)},_=function(){var e=Object(f.f)().commit;return a.a.createElement(p.c,{m:4,p:4},e?a.a.createElement(O,{commitRef:{type:"commits",ref:e}}):null)},R=function(){return a.a.createElement(p.a,null,a.a.createElement(m.a,{basename:"/citeproc-rs-test-viewer"},a.a.createElement(w,null),a.a.createElement(f.c,null,a.a.createElement(f.a,{path:"/branches/:branch"},a.a.createElement(S,null)),a.a.createElement(f.a,{path:"/commits/:commit"},a.a.createElement(_,null)),a.a.createElement(f.a,{path:"/"},a.a.createElement(x,null)),a.a.createElement(f.a,null,"Route not found"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.9e215a3d.chunk.js.map